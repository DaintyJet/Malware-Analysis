; ----------------------------------------------------------------------------
; helloworld.asm
; Assemble: nasm -f win helloworld.asm
; Link: golink /console helloworld-gl.obj msvcrt.dll
;
; This is a Win32 console program that writes "Hello, World" on one line and
; then exits.  It needs to be linked with the Windows library msvcrt.dll. 
; MSVCRT.DLL is the C standard library for the Visual C++ (MSVC).
; ----------------------------------------------------------------------------

    global  start	; Declare entry point _main
    extern  printf	; from standard C library

    section .text	; Declare code/text section
start:	; Entry point
    push    message	; push message (an address) onto stack
    call    printf	; call _printf (external) function in MSVCRT.DLL
    add     esp, 4	; esp+=4
    ret
message:	; A label points to a string in the code section! 
    db  'Hello, World', 10, 0	; hello world string. 10 is the Line Feed character. 0 is the null terminator


